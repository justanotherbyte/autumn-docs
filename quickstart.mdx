---
title: 'Quickstart'
description: 'Implement pricing & billing in under 5 minutes'
---

In this tutorial, we'll set up pricing for an AI chatbot product. Here are the products we want to offer:

| Feature | Free Plan | Pro Plan |
|---------|:----------:|:----------:|
| Chat messages | 10 per month | 50 per month |
| Pro Analytics | ✖️ | ✔︎ |
| **Price** | **Free** | **$99** per month |


## Step 1: Define product features

We can define the chatbot's features in the Autumn dashboard. We'll create two features:

1. "**Chat messages**": a `metered` feature, as access is dependent on its usage
2. "**Pro Analytics**": a `boolean` feature, as it's a simple on-off toggle depending on the tier

<img
  className="border"
  width={400}
  src="/assets/screenshots/create_feature.png"
/>

Creating a boolean feature just needs a name and ID. Metered features rely on reporting usage events (see [Step 4](/quickstart#step-4-check-access-and-send-usage-events)) so we can keep track of how much allowance each customer has left. 


## Step 2: Create a product

Next, let's create our 2 products. 
1. "**Free**": and give it the entitlement "Chat messages" with a limit of 10 messages per month.
2. "**Pro**": and set the entitlement "Chat messages" to 50 per month, add the entitlement "Pro Analytics" and set the price to $99 per month.

<Tabs>
  <Tab title="Free Plan">
    <img
      className="border rounded-md"
      src="/assets/screenshots/create_free_product.png"
    />
  </Tab>
  <Tab title="Pro Plan">
    <img
      className="border rounded-md"
      src="/assets/screenshots/product.png"
    />
  </Tab>
</Tabs>

## Step 3: Attach a product on purchase

When this customer purchases Pro Tier, we'll attach our Pro product to the customer. This will bill the customer for the price of the product ($99 per month).

<Warning>
  Make sure you've set up your Stripe credentials in the [Autumn dashboard](https://app.useautumn.com/integrations/stripe).
</Warning>

<Tabs>
  <Tab title="API">
    ```javascript
    const response = await fetch('https://api.useautumn.com/v1/attach', {
      method: "POST",
      headers: {Authorization: 'Bearer <token>', 'Content-Type': 'application/json'},
      body: JSON.stringify({
        "customer_id": "customer_123",
        "product_id": "pro"
      })
    })

    const data = await response.json()

    if (data.checkout_url) {
      // Redirect user to checkout_url
    }
    ```
  </Tab>
  <Tab title="Dashboard">
    <img src="/assets/screenshots/attach_product.png" width={700} alt="Hero Dark" />
  </Tab>
</Tabs>

<Check>Autumn will automatically create a customer if the customer ID is new.</Check>

If a customer needs to make a card payment, this will return a Stripe checkout URL. If we have the card already on file, we'll automatically handle billing.

No need to worry about handling upgrades, downgrades, pro-rating or [258 webhook statuses](https://docs.stripe.com/api/events/types). Autumn takes care of all this for you.



## Step 4: Check access and send usage events

Finally from your application, whenever a customer tries to use one of your features, first check if they're entitled by calling the endpoint below. If it's a usage-based feature, make sure to send us the events.&#x20;

```javascript
// 1. Check if customer is entitled to chat messages
const response = await fetch('https://api.useautumn.com/v1/entitled', {
  method: "POST",
  headers: {Authorization: 'Bearer <token>', 'Content-Type': 'application/json'},
  body: JSON.stringify({
    "customer_id": "customer_123",
    "feature_id": "chat_message"
  })
})

// 2. If user is not entitled, throw an error
let data = await response.json()
if (!data.allowed) {
  throw new Error(`You're out of chat messages!`)
}

// 3. Send event when a chat message is successfully used
await fetch('https://api.useautumn.com/v1/events', {
  method: "POST",
  headers: {Authorization: 'Bearer <token>', 'Content-Type': 'application/json'},
  body: JSON.stringify({
    "customer_id": "customer_123",
    "event_name": "chat_message"
  })
})
```

